hello!!!!!!!!!!
Custom tcp Port 8080

12 gib gp2

Jenkins Terminal

# hostnamectl set-hostname jenkins.example.com

# bash

# rpmquery Jenkins

# yum update

# yum repolist all

yum update -y

yum install java-21-amazon-corretto -y

 

  sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo

 

rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key

 

sudo yum install jenkins -y *

sudo yum install jenkins

 

sudo systemctl start jenkins

sudo systemctl enable jenkins

networking -> copy public ip with :8080

open in a new tab

copy the command

cat /

paste it in terminal to get the password

install the plugins(Left Option)

http://3.238.79.123:8080/

built-in-node (offline)

# df -h -> disk info

we have to increase the tempfs space to solve this issue

# sudo mount -o remount,size=2G /tmp // temporary

# df -h

# vim /etc/fstab

down arrow

tmpfs /tmp tmpfs defaults,noatime,mode=1777,size=2G 0 0

:wq

# systemctl daemon-reload

# reboot (don't in prod env)

then use id and password

step 2:
Create Git-clone-server
useast 1a

Same security group as jenkins-server

12gib t3

# hostnamectl set-hostname gitClone-server.example.com

# cd

# ssh-keygen

# cat .ssh/id_rsa.pub

 -> Copy the key and paste it in Guthub settings ssh key section

# mkdir /dev-data

# cd /dev-data/

# yum install git

# git init

# git clone https://github.com/sanjayguruji/devops-mumbai.git

# ll

# cd devops-mumbai

# git remote remove origin

# git -m main

# git remote add origin git@github.com:dev-debaprasad/jenkis-practice-01.git

<!--SSH URL Of New Repo-->
# git add .

# git commit -m clone-done -a

# git push origin main

step 3:
Link GitHub Repo With Jenkins-Site
->git hub ->repo->settings->webhooks->payload url:

paste the public ip of Jenkins server along with :8080/github-webhook/

->content type - application/json

->Jenkins -> profile -> security -> Api token

create give name copy then go to webhook and paste in secret and then save and reload

-> Webhook should be ticked now

step 4:
Pipeline Building
->Goto Jenkins-server Terminal

-># yum install maven -y

-> then go to Jenkins site and install plugin

 - GitHub integration

 - maven integratiom

 - deploy to container

-> go to Jenkins site settings tool

  -add Java and Mvn path (untick automatic installation)

  -> goto Jenkins-server Terminal

  # mvn -v

-> go to Jenkins site

 -> Create a new job

  - Maven Project

  - paste Github link

  - branch main

  - Trigger - Build whenever a SNAPSHOT dependency is built :uncheck

  - GitHub hook trigger for GITScm polling :Check

-> Go to EC2 Page

 -> Stop ec2 instance

 -> Change the ec2 instance's Size from t3micro to t3small

 -> start the instance

 -> copy the public ip

-> Goto Jenkins-server Terminal

  # cd /var/lib/Jenkins

  # ll

  # vim jenkins.model.JenkinsLocationConfiguration.xml

  -> Replace the existing ip

  # systemctl restart Jenkins

-> goto Jenkins site

  and login then Pray to God and hit Build Now

step 5:
Tomcat Server Configuration
Create new EC2 instance:

us east 1a

13gib t3

New security group 8080

# hostnamectl set-hostname tomcat.example.com

# bash

# yum install java\* -y

# yum install wget -y

# yum install wget

# wget https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.109/bin/apache-tomcat-9.0.109.tar.gz

# tar -xvzf apache-tomcat-9.0.109.tar.gz

# ll

# cd apache-tomcat-9.0.109

# cd bin/

# ll

# chmod +x startup.sh

# chmod +x shutdown.sh

# ./startup.sh

-> Copy Public Ip paste with :8080 to see Tomcat Default Page

# ./shutdown.sh

# cd ..

# cd conf

# vim tomcat-users.xml

goto -> https://medium.com/@raguyazhin/step-by-step-guide-to-install-apache-tomcat-on-amazon-linux-120748a151a9

 -> Copy

Update user information in tomcat-users.xml

\#Add below lines between <tomcat-users> tag

<role rolename="manager-gui"/>

<role rolename="manager-script"/>

<role rolename="manager-jmx"/>

<role rolename="manager-status"/>

<user username="admin" password="admin" roles="manager-gui,manager-script,manager-jmx,manager-status"/>

<user username="deployer" password="deployer" roles="manager-script"/>

<user username="tomcat" password="s3cret" roles="manager-gui"/>

# cd ..

# find -name context.xml

 output:

 ./conf/context.xml

 ./webapps/docs/META-INF/context.xml

 ./webapps/examples/META-INF/context.xml

 ./webapps/host-manager/META-INF/context.xml

 ./webapps/manager/META-INF/context.xml

->Now We have to comment out valve statement of last 3 files

 # vim webapps/examples/META-INF/context.xml

 # vim webapps/host-manager/META-INF/context.xml

 # vim webapps/manager/META-INF/context.xml

 

# cd ..

# cd bin/

# ./shutdown.sh

# ./startup.sh

-> go to jenkins site

 ->settings(Manage Jenkins) ->Security ->credentials -> Global credentials -> Add credentials -> userid and pass - deployer

 ->Open the pipeline(Project) ->configuration->Build Setting->Post Build Actions ->select "deploy war file to container"

 -> inside war file : "**/*.war" -> inside context path : "/"

 -> Then in next field : crendentials - deployer/***** tomcaturl - copy paste

 -> Apply ->Save -> Build Now

-> copy Tomcat server ip and open in a new tab then
 cat /etc/passwd
 useradd h
 cat /etc/passwd
 cat /etc/passwd |  grep -i h
 passwd h
 tail /etc/passwd
 tail /etc/shadow
 su -h 
 pwd
 whoami
 pwd
 exit
 usermod -G wheel pooja
 su -pooja
 id
 whereis useradd
 vim /etc/sudoers
 se sn
 /usr/bin/passwd
 create
upload objects
click the file -> object url -> paste -> access denied
inside obects -> permission -> can see permissions -> but cant edit
inside buckets -> go to made one -> permissions -> under acl -> bucket owner enforced  -> select hyperlink -> enable ACLs 
inside objects -> permission -> can see permissions -> can edit -> 

should upload through machines
can access aws s3 in cross platform.

make an instance in other region
connect ssh
cat /etc/os-release
df -h

go to iam
create user
attach policies directly
aws s3 all policies
go inside user
security creds
create access key
cli
create access key
download .csv file
save

go to terminal
install aws cli
copy from google docs
curl https --- 3 lines
aws configureI am user process in CLI:
1  curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
    2  unzip awscliv2.zip
    3  sudo ./aws/install
    4  aws configure
    5  ls -a
    6  cd .aws/
    7  ll
    8  cat config
    9  cat credentials
   10  cd
   11  sudo yum install automake fuse fuse-devel gcc-c++ git libcurl-devel libxml2-devel make openssl-devel
   12  git clone https://github.com/s3fs-fuse/s3fs-fuse.git
   13  cd s3fs-fuse/
   14  ll
   15  ./autogen.sh
   16  ./configure --prefix=/usr --with-openssl
   17  make
   18  sudo make install
   19  cd
   20  which s3fs
   21  touch /etc/passwd-s3fs
   22  ll -d /etc/passwd-s3fs
   23  chmod 640 /etc/passwd-s3fs
   24  ll -d /etc/passwd-s3fs
   25  vim /etc/passwd-s3fs
   26  s3fs {Enter your bucket name -- No Braces required} /mnt -o passwd_file=/etc/passwd-s3fs
   27  df -h
   28  cd /mnt/
   29  ll
   30  touch sush.txt{1..10}
   31  history
